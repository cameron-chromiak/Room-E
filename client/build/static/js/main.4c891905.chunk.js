(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){},27:function(e,t,a){},31:function(e,t,a){e.exports=a(65)},37:function(e,t,a){},59:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(28),o=a.n(r),c=(a(37),a(68)),i=a(2),l=a(3),u=a(5),m=a(4),d=a(6),h=a(11),p=a.n(h);p.a.defaults.withCredentials=!0;var g=p.a.create({baseURL:"/api",withCredentials:!0}),b=function(e){if(console.error(e),e.response&&e.response.data)throw console.error("API response",e.response.data),e.response.data.message;throw e},f={service:g,isLoggedIn:function(){return null!=localStorage.getItem("user")},getLocalStorageUser:function(){return JSON.parse(localStorage.getItem("user"))},signup:function(e){return g.post("/signup",e).then(function(e){return localStorage.setItem("user",JSON.stringify(e.data)),e.data}).catch(b)},login:function(e,t){return g.post("/login",{username:e,password:t}).then(function(e){return localStorage.setItem("user",JSON.stringify(e.data)),e.data}).catch(b)},logout:function(){return localStorage.removeItem("user"),g.get("/logout")}},v=(a(26),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"landing-container"},s.a.createElement("div",{className:"landing-text"},s.a.createElement("h1",{className:"ui header-lg"},"Welcome"),s.a.createElement("p",{className:"ui header-md"},"This is RoomE. A way to simplify life with your roomates"))),s.a.createElement("section",{className:"section section about"},s.a.createElement("div",{className:"about-text"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Vel autem numquam architecto veniam! Facere ipsa similique aperiam, labore non assumenda sunt quibusdam earum cupiditate nemo ad. Saepe laboriosam dolorem, repudiandae id aperiam iusto earum accusamus aliquid autem quas perspiciatis cupiditate, explicabo! Velit vel ab facilis, consequatur id itaque dicta, reprehenderit.")),s.a.createElement("footer",{className:"footer"},"A Lazy Footer"))}}]),t}(n.Component)),E=a(18),N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={ExistingHouses:[]},a.handleSubmit=function(e){if(e.preventDefault(),a.state.HouseName){var t={HouseName:a.state.HouseName};p.a.post("http://localhost:5000/api/house",t).then(function(e){console.log(e),window.location.reload()})}else console.log("You need a house name")},a.handleInputChange=function(e){a.setState({HouseName:e.target.value})},a.showDashboard=function(){return f.isLoggedIn()?s.a.createElement("div",null,s.a.createElement("h2",null,"Dashoard"),s.a.createElement("div",{className:"ui four column doubling stackable grid container"},s.a.createElement("div",{className:"column"})),s.a.createElement("div",{className:"ui raised very padded text container segment"},s.a.createElement("h3",null,"Create a new Home"),s.a.createElement("form",{className:"ui form"},s.a.createElement("div",{className:"field"},s.a.createElement("label",null,"House Name"),s.a.createElement("input",{type:"text",value:a.state.HouseName,onChange:a.handleInputChange})),s.a.createElement("button",{className:"ui button btn",onClick:function(e){return a.handleSubmit(e)}},"Create")))):null},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("http://localhost:5000/api/dashboard",{withCredentials:!0}).then(function(t){e.setState({ExistingHouses:t.data.houses})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"dashboard-container"},s.a.createElement("div",null,this.showDashboard()),s.a.createElement("div",{className:"card-container"},this.state.ExistingHouses.map(function(e,t){return s.a.createElement("div",{className:"ui cards"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"header"},s.a.createElement(E.a,{key:t,to:"/house/build/".concat(e._id)},e.HouseName)))))})))}}]),t}(n.Component),k=a(14),O=a(12),S=(a(59),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={username:"cam",password:"123",message:null},a.handleInputChange=a.handleInputChange.bind(Object(O.a)(Object(O.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handleClick",value:function(e){var t=this;e.preventDefault(),f.login(this.state.username,this.state.password).then(function(e){console.log("SUCCESS!"),t.props.stuff.toggleLogIn(),t.props.history.push("/")}).catch(function(e){return t.setState({message:e.toString()})})}},{key:"setLogin",value:function(){this.props.onLogin(!0)}},{key:"render",value:function(){var e=this;return console.log(this),s.a.createElement("div",{className:"ui card form"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"Login"},s.a.createElement("h2",null,"Login"),s.a.createElement("form",null,"Username: ",s.a.createElement("input",{className:"field",type:"text",value:this.state.username,name:"username",onChange:this.handleInputChange})," ",s.a.createElement("br",null),"Password: ",s.a.createElement("input",{className:"field",type:"password",value:this.state.password,name:"password",onChange:this.handleInputChange})," ",s.a.createElement("br",null),s.a.createElement("button",{className:"ui button btn",onClick:function(t){return e.handleClick(t)}},"Login")),this.state.message&&s.a.createElement("div",{className:"info info-danger"},this.state.message))))}}]),t}(n.Component)),j=(a(60),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={username:"",name:"",password:"",message:null},a.handleInputChange=a.handleInputChange.bind(Object(O.a)(Object(O.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleInputChange",value:function(e){this.setState(Object(k.a)({},e.target.name,e.target.value))}},{key:"handleClick",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,name:this.state.name,password:this.state.password};f.signup(a).then(function(e){console.log("SUCCESS!",e),t.props.history.push("/")}).catch(function(e){return t.setState({message:e.toString()})})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ui card form"},s.a.createElement("div",{className:"content"},s.a.createElement("h2",null,"Signup"),s.a.createElement("form",null,"Username: ",s.a.createElement("input",{type:"text",value:this.state.username,name:"username",onChange:this.handleInputChange})," ",s.a.createElement("br",null),"Name: ",s.a.createElement("input",{type:"text",value:this.state.name,name:"name",onChange:this.handleInputChange})," ",s.a.createElement("br",null),"Password: ",s.a.createElement("input",{type:"password",value:this.state.password,name:"password",onChange:this.handleInputChange})," ",s.a.createElement("br",null),s.a.createElement("button",{className:"ui button btn",onClick:function(t){return e.handleClick(t)}},"Signup")),this.state.message&&s.a.createElement("div",{className:"info info-danger"},this.state.message)))}}]),t}(n.Component)),C=a(13),y=(a(27),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={inputText:""},a.handleSubmit=function(e){e.preventDefault(),a.props.addSubmitMember(a.state.inputText),a.setState({inputText:""})},a.onInputChange=function(e){a.setState({inputText:e.target.value})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"ui card center-text"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"header"},"Members"),s.a.createElement("form",{className:"ui form",onSubmit:this.handleSubmit},s.a.createElement("input",{className:"form-text-input",value:this.state.inputText,onChange:this.onInputChange,type:"text"}),s.a.createElement("button",{className:"ui button add-btn"},"Add")),s.a.createElement("div",{className:"description"},s.a.createElement("p",null,this.props.members.map(function(t,a){return s.a.createElement("li",{onClick:function(t){e.removeItem(a)},key:a},t.name)})))))}}]),t}(n.Component)),I=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={task:[],inputText:""},a.handleSubmit=function(e){e.preventDefault(),a.props.addSubmitTask(a.state.inputText),a.setState({inputText:""})},a.onInputChange=function(e){a.setState({inputText:e.target.value})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"ui card center-text"},s.a.createElement("div",{className:"content"},s.a.createElement("div",{className:"header"},"Task"),s.a.createElement("form",{className:"ui form",onSubmit:this.handleSubmit},s.a.createElement("input",{className:"form-text-input",value:this.state.inputText,onChange:this.onInputChange,type:"text"}),s.a.createElement("button",{className:"ui button add-btn"},"Add")),s.a.createElement("div",{className:"description"},s.a.createElement("p",null,this.props.task.map(function(e,t){return s.a.createElement("li",{key:t},e)})))))}}]),t}(n.Component),w=(a(61),a(62),n.Component,function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={members:[],task:[],id:a.props.match.params.id},a.getTask=function(e){var t=Object(C.a)(a.state.task);t.push(e[0]),a.setState({task:t})},a.getMember=function(e){var t=Object(C.a)(a.state.members);t.push(e[0]),a.setState({members:t})},a.addSubmitMember=function(e){var t={name:e,task:[]};a.setState({members:[].concat(Object(C.a)(a.state.members),[t]),inputText:""})},a.addSubmitTask=function(e){a.setState({task:[].concat(Object(C.a)(a.state.task),[e]),inputText:""})},a.onSaveSubmit=function(e){e.preventDefault();var t={members:a.state.members,task:a.state.task,id:a.state.id};p.a.post("https://room-e.herokuapp/api/house/build/".concat(a.state.id),{data:t}).then(function(e){return console.log(e)}).catch(function(e){return console.log("ERROR: ",e)})},a.onDeleteDoc=function(e){console.log("x"),e.preventDefault(),p.a.delete("https://room-e.herokuapp/api/house/delete/".concat(a.state.id)).then(function(e){return a.props.history.push("/dashboard")}).catch(function(e){return console.log("ERROR: ",e)})},a.assignTask=function(){for(var e=Object(C.a)(a.state.members),t=Object(C.a)(a.state.task),n=0;t.length>0;){var s=t.splice(Math.floor(Math.random()*t.length)-1,1)[0];n>=e.length&&(n=0),console.log(e[n]),e[n].task.push(s),n++}a.setState({members:e})},a.renderTask=function(){return a.state.members.map(function(e){return console.log(e),s.a.createElement("span",null,s.a.createElement("li",null,e.name),s.a.createElement("ll",null,e.task.join(",")),s.a.createElement("hr",null))})},a.renderCards=function(){return console.log(a.state.members),s.a.createElement("div",{className:"ui two column centered grid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"column"},s.a.createElement(y,{members:a.state.members,addSubmitMember:a.addSubmitMember,getMember:a.getMember})),s.a.createElement("div",{className:"column"},s.a.createElement(I,{task:a.state.task,addSubmitTask:a.addSubmitTask,getTask:a.getTask})),s.a.createElement("div",{className:"assign-container ui card center-text"},s.a.createElement("div",{className:"name-container"},s.a.createElement("div",null,a.renderTask())))),s.a.createElement("div",{className:"menu-container"},s.a.createElement("form",{onSubmit:a.onSaveSubmit,className:"ui"},s.a.createElement("button",{className:"ui button green"},"Save")),s.a.createElement("div",null,s.a.createElement("button",{onClick:a.assignTask,className:"ui button blue"},"Mix")),s.a.createElement("form",{className:"btn-delete",onSubmit:a.onDeleteDoc},s.a.createElement("button",{className:"ui button red"},"Delete"))))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat("https://room-e.herokuapp","/house/build/").concat(this.props.match.params.id),{withCredentials:!0}).then(function(t){e.setState({members:t.data.house.people,task:t.data.house.task})})}},{key:"render",value:function(){return s.a.createElement("div",null,this.renderCards())}}]),t}(n.Component)),x=a(67),L=a(69),T=a(30),D=(a(63),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleLogoutClick",value:function(e){f.logout(),this.props.stuff.toggleLogIn()}},{key:"render",value:function(){var e=this;this.props;return s.a.createElement("div",null,s.a.createElement("div",{className:"ui secondary menu"},s.a.createElement(x.a,{to:"/",className:"item",exact:!0},"Home"),f.isLoggedIn()&&s.a.createElement(x.a,{className:"item",to:"/dashboard"},"Dashboard"),!f.isLoggedIn()&&s.a.createElement(x.a,{className:"item",to:"/signup"},"Signup"),!f.isLoggedIn()&&s.a.createElement(x.a,{className:"item",to:"/login"},"Login"),s.a.createElement("div",{className:"right menu"},f.isLoggedIn()&&s.a.createElement(E.a,{className:"item",to:"/",onClick:function(t){return e.handleLogoutClick(t)}},"Logout"))),s.a.createElement(L.a,null,s.a.createElement(T.a,{path:"/",exact:!0,component:v}),s.a.createElement(T.a,Object.assign({},this.props,{path:"/dashboard",render:function(t,a){return s.a.createElement(N,Object.assign({},t,{stuff:e.props}))}})),s.a.createElement(T.a,{path:"/login",render:function(t){return s.a.createElement(S,Object.assign({},t,{stuff:e.props}))}}),s.a.createElement(T.a,{path:"/signup",component:j}),s.a.createElement(T.a,{path:"/house/build/:id",component:w}),s.a.createElement(T.a,{render:function(){return s.a.createElement("h2",null,"404")}})))}}]),t}(s.a.Component)),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={isLoggedIn:null,user:{}},a.setUser=function(){f.isLoggedIn()?a.setState({user:f.getLocalStorageUser()}):a.setState({user:{}})},a.toggleLogIn=function(){a.setState({isLoggedIn:!a.state.isLoggedIn})},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(D,{isLoggedIn:this.state.isLoggedIn,toggleLogIn:this.toggleLogIn}))}}]),t}(n.Component);o.a.render(s.a.createElement(c.a,null,s.a.createElement(M,null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.4c891905.chunk.js.map